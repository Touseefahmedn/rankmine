<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RankMine | Tools & Live App</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#0f4c75" />

  <!-- Add these -->
  <link rel="manifest" href="manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => console.log('âœ… Service Worker registered'))
          .catch(err => console.error('Service Worker registration failed:', err));
      });
    }
  </script>
</head>

  <main class="main">
      <div class="grid">
        <a href="pages/ai-tools.html" class="btn"><div class="emoji">ğŸ¤–</div><div class="title">AI Tools Hub</div></a>
        <a href="pages/store.html" class="btn"><div class="emoji">ğŸ›ï¸</div><div class="title">Digital Store</div></a>
        <a href="pages/spinwheel.html" class="btn"><div class="emoji">ğŸ¯</div><div class="title">Spin Wheel</div></a>
        <a href="pages/giveaway.html" class="btn"><div class="emoji">ğŸ</div><div class="title">Giveaway Picker</div></a>
        <a href="pages/collab-finder.html" class="btn"><div class="emoji">ğŸ¤</div><div class="title">Collab Finder</div></a>
        <a href="pages/daily-prompts.html" class="btn"><div class="emoji">ğŸ–¼ï¸</div><div class="title">Daily Photo Prompts</div></a>
        <a href="pages//pdf-editor.html" class="btn"><div class="emoji">ğŸ“„</div><div class="title">PDF Editor</div></a>
        <a href="pages/quran-quiz.html" class="btn"><div class="emoji">ğŸ“–</div><div class="title">Quran & Quiz</div></a>
        <a href="pages/islamic-hub.html" class="btn"><div class="emoji">ğŸŒ™</div><div class="title">Islamic Hub</div></a>
        <a href="pages/social.html" class="btn"><div class="emoji">ğŸŒ</div><div class="title">Social Links</div></a>
      </div>

     <div style="text-align:center; margin-top:30px;">
  <button id="install-btn" onclick="installApp()" class="chip" 
          style="background:#0f4c75;color:#fff;display:none;">
    ğŸ“² Install App
  </button>
  <p id="install-tip" style="margin-top:12px;color:#0f4c75;font-weight:600;display:none;">
    To install: open browser menu â†’ <b>Add to Home screen</b> (Android) or 
    <b>Share â†’ Add to Home Screen</b> (iOS).
  </p>
</div>
    </main>

    <footer>
      <div>Â© 2025 RankMine â€” Created by <b>Touseef Ahmed</b></div>
    </footer>
  </div>

  <script>
  let deferredPrompt;

  // Detect install prompt event
  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    document.getElementById('install-btn').style.display = 'inline-block';
  });

  // On click â€” trigger real PWA install
  async function installApp() {
    if (deferredPrompt) {
      deferredPrompt.prompt();
      const choice = await deferredPrompt.userChoice;
      if (choice.outcome === 'accepted') {
        document.getElementById('install-tip').textContent = 'âœ… App installed successfully!';
      } else {
        document.getElementById('install-tip').textContent = 'Installation dismissed.';
      }
      deferredPrompt = null;
    } else {
      document.getElementById('install-tip').style.display = 'block';
    }
  }
</script>
</body>
</html>
